20:43:14 **** Incremental Build of configuration Debug for project STM32F4-Romi-V0.1 ****
make -j8 all 
arm-none-eabi-gcc "../Core/Src/stm32f4xx_it.c" -mcpu=cortex-m4 -std=gnu11 -g3 -DSTM32F405xx -DUSE_HAL_DRIVER -DDEBUG -c -I../Drivers/CMSIS/Include -I../Drivers/STM32F4xx_HAL_Driver/Inc -I../Core/Inc -I../Drivers/CMSIS/Device/ST/STM32F4xx/Include -I../App/Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -O0 -ffunction-sections -fdata-sections -Wall -fstack-usage -MMD -MP -MF"Core/Src/stm32f4xx_it.d" -MT"Core/Src/stm32f4xx_it.o" --specs=nano.specs -mfpu=fpv4-sp-d16 -mfloat-abi=hard -mthumb -o "Core/Src/stm32f4xx_it.o"
arm-none-eabi-gcc "../App/Scr/app_main.c" -mcpu=cortex-m4 -std=gnu11 -g3 -DSTM32F405xx -DUSE_HAL_DRIVER -DDEBUG -c -I../Drivers/CMSIS/Include -I../Drivers/STM32F4xx_HAL_Driver/Inc -I../Core/Inc -I../Drivers/CMSIS/Device/ST/STM32F4xx/Include -I../App/Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -O0 -ffunction-sections -fdata-sections -Wall -fstack-usage -MMD -MP -MF"App/Scr/app_main.d" -MT"App/Scr/app_main.o" --specs=nano.specs -mfpu=fpv4-sp-d16 -mfloat-abi=hard -mthumb -o "App/Scr/app_main.o"
arm-none-eabi-gcc "../App/Scr/sonar.c" -mcpu=cortex-m4 -std=gnu11 -g3 -DSTM32F405xx -DUSE_HAL_DRIVER -DDEBUG -c -I../Drivers/CMSIS/Include -I../Drivers/STM32F4xx_HAL_Driver/Inc -I../Core/Inc -I../Drivers/CMSIS/Device/ST/STM32F4xx/Include -I../App/Inc -I../Drivers/STM32F4xx_HAL_Driver/Inc/Legacy -O0 -ffunction-sections -fdata-sections -Wall -fstack-usage -MMD -MP -MF"App/Scr/sonar.d" -MT"App/Scr/sonar.o" --specs=nano.specs -mfpu=fpv4-sp-d16 -mfloat-abi=hard -mthumb -o "App/Scr/sonar.o"
../Core/Src/stm32f4xx_it.c: In function 'EXTI1_IRQHandler':
../Core/Src/stm32f4xx_it.c:213:18: warning: implicit declaration of function '___HAL_TIM_GET_COUNTER'; did you mean '__HAL_TIM_GET_COUNTER'? [-Wimplicit-function-declaration]
  uint32_t tock = ___HAL_TIM_GET_COUNTER(&htim9); //grab the count value in the counter register
                  ^~~~~~~~~~~~~~~~~~~~~~
                  __HAL_TIM_GET_COUNTER
../Core/Src/stm32f4xx_it.c:214:2: error: 'sonar' undeclared (first use in this function)
  sonar->tick = tock - sonar->tick;
  ^~~~~
../Core/Src/stm32f4xx_it.c:214:2: note: each undeclared identifier is reported only once for each function it appears in
../Core/Src/stm32f4xx_it.c:215:2: error: unknown type name 'UpdateSonar'
  UpdateSonar
  ^~~~~~~~~~~
../App/Scr/sonar.c: In function 'checkSonar':
In file included from ../Core/Inc/stm32f4xx_hal_conf.h:240:0,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h:30,
                 from ../Core/Inc/main.h:31,
                 from ../Core/Src/stm32f4xx_it.c:22:
../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h:87:36: error: expected declaration specifiers or '...' before '(' token
 #define GPIO_PIN_1                 ((uint16_t)0x0002)  /* Pin 1 selected    */
                                    ^
../Core/Src/stm32f4xx_it.c:217:28: note: in expansion of macro 'GPIO_PIN_1'
   HAL_GPIO_EXTI_IRQHandler(GPIO_PIN_1);
                            ^~~~~~~~~~
../Core/Src/stm32f4xx_it.c: In function 'EXTI15_10_IRQHandler':
../App/Scr/sonar.c:14:16: warning: implicit declaration of function '___HAL_TIM_GET_COUNTER'; did you mean '__HAL_TIM_GET_COUNTER'? [-Wimplicit-function-declaration]
  sonar->tick = ___HAL_TIM_GET_COUNTER(&htim9); //grab the count value in the counter register
                ^~~~~~~~~~~~~~~~~~~~~~
                __HAL_TIM_GET_COUNTER
../Core/Src/stm32f4xx_it.c:288:12: warning: value computed is not used [-Wunused-value]
   EXTI->PR & (GPIO_PIN_13); //Clear the flag
../App/Scr/sonar.c:15:20: warning: passing argument 1 of 'HAL_GPIO_WritePin' makes pointer from integer without a cast [-Wint-conversion]
  HAL_GPIO_WritePin(sonar->trig_port,sonar->trig_pin,RESET); //Set the Trigger pin low
                    ^~~~~
In file included from ../Core/Inc/stm32f4xx_hal_conf.h:240:0,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h:30,
                 from ../Core/Inc/main.h:31,
                 from ../Core/Inc/tim.h:27,
                 from ../App/Inc/sonar.h:18,
                 from ../App/Scr/sonar.c:7:
../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h:236:6: note: expected 'GPIO_TypeDef * {aka struct <anonymous> *}' but argument is of type 'uint32_t {aka long unsigned int}'
 void HAL_GPIO_WritePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin, GPIO_PinState PinState);
      ^~~~~~~~~~~~~~~~~
../App/Scr/sonar.c:16:20: warning: passing argument 1 of 'HAL_GPIO_WritePin' makes pointer from integer without a cast [-Wint-conversion]
  HAL_GPIO_WritePin(sonar->trig_port,sonar->trig_pin,SET);//keep high for 10uS
                    ^~~~~
In file included from ../Core/Inc/stm32f4xx_hal_conf.h:240:0,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h:30,
                 from ../Core/Inc/main.h:31,
                 from ../Core/Inc/tim.h:27,
                 from ../App/Inc/sonar.h:18,
                 from ../App/Scr/sonar.c:7:
../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h:236:6: note: expected 'GPIO_TypeDef * {aka struct <anonymous> *}' but argument is of type 'uint32_t {aka long unsigned int}'
 void HAL_GPIO_WritePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin, GPIO_PinState PinState);
      ^~~~~~~~~~~~~~~~~
../App/Scr/sonar.c:20:20: warning: passing argument 1 of 'HAL_GPIO_WritePin' makes pointer from integer without a cast [-Wint-conversion]
  HAL_GPIO_WritePin(sonar->trig_port,sonar->trig_pin,RESET); //Set the Trigger pin low
                    ^~~~~
In file included from ../Core/Inc/stm32f4xx_hal_conf.h:240:0,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h:30,
                 from ../Core/Inc/main.h:31,
                 from ../Core/Inc/tim.h:27,
                 from ../App/Inc/sonar.h:18,
                 from ../App/Scr/sonar.c:7:
../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h:236:6: note: expected 'GPIO_TypeDef * {aka struct <anonymous> *}' but argument is of type 'uint32_t {aka long unsigned int}'
 void HAL_GPIO_WritePin(GPIO_TypeDef* GPIOx, uint16_t GPIO_Pin, GPIO_PinState PinState);
      ^~~~~~~~~~~~~~~~~
make: *** [Core/Src/subdir.mk:71: Core/Src/stm32f4xx_it.o] Error 1
make: *** Waiting for unfinished jobs....
In file included from ../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h:129:0,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h:30,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc.h:29,
                 from ../Core/Inc/stm32f4xx_hal_conf.h:232,
                 from ../Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h:30,
                 from ../Core/Inc/main.h:31,
                 from ../App/Scr/app_main.c:29:
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1002:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOB               ((GPIO_TypeDef *) GPIOB_BASE)
                             ^
../Core/Inc/main.h:85:25: note: in expansion of macro 'GPIOB'
 #define TRIGL_GPIO_Port GPIOB
                         ^~~~~
../App/Scr/app_main.c:69:30: note: in expansion of macro 'TRIGL_GPIO_Port'
 SONAR_STATUS SONARL ={"Left",TRIGL_GPIO_Port,TRIGL_Pin,ECHOL_GPIO_Port,ECHOL_Pin,0,0.0};
                              ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1002:29: note: (near initialization for 'SONARL.trig_port')
 #define GPIOB               ((GPIO_TypeDef *) GPIOB_BASE)
                             ^
../Core/Inc/main.h:85:25: note: in expansion of macro 'GPIOB'
 #define TRIGL_GPIO_Port GPIOB
                         ^~~~~
../App/Scr/app_main.c:69:30: note: in expansion of macro 'TRIGL_GPIO_Port'
 SONAR_STATUS SONARL ={"Left",TRIGL_GPIO_Port,TRIGL_Pin,ECHOL_GPIO_Port,ECHOL_Pin,0,0.0};
                              ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1002:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOB               ((GPIO_TypeDef *) GPIOB_BASE)
                             ^
../Core/Inc/main.h:87:25: note: in expansion of macro 'GPIOB'
 #define ECHOL_GPIO_Port GPIOB
                         ^~~~~
../App/Scr/app_main.c:69:56: note: in expansion of macro 'ECHOL_GPIO_Port'
 SONAR_STATUS SONARL ={"Left",TRIGL_GPIO_Port,TRIGL_Pin,ECHOL_GPIO_Port,ECHOL_Pin,0,0.0};
                                                        ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1002:29: note: (near initialization for 'SONARL.echo_port')
 #define GPIOB               ((GPIO_TypeDef *) GPIOB_BASE)
                             ^
../Core/Inc/main.h:87:25: note: in expansion of macro 'GPIOB'
 #define ECHOL_GPIO_Port GPIOB
                         ^~~~~
../App/Scr/app_main.c:69:56: note: in expansion of macro 'ECHOL_GPIO_Port'
 SONAR_STATUS SONARL ={"Left",TRIGL_GPIO_Port,TRIGL_Pin,ECHOL_GPIO_Port,ECHOL_Pin,0,0.0};
                                                        ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1001:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOA               ((GPIO_TypeDef *) GPIOA_BASE)
                             ^
../Core/Inc/main.h:113:25: note: in expansion of macro 'GPIOA'
 #define TRIGR_GPIO_Port GPIOA
                         ^~~~~
../App/Scr/app_main.c:70:31: note: in expansion of macro 'TRIGR_GPIO_Port'
 SONAR_STATUS SONARR ={"Right",TRIGR_GPIO_Port,TRIGR_Pin,ECHOR_GPIO_Port,ECHOR_Pin,0,0.0};
                               ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1001:29: note: (near initialization for 'SONARR.trig_port')
 #define GPIOA               ((GPIO_TypeDef *) GPIOA_BASE)
                             ^
../Core/Inc/main.h:113:25: note: in expansion of macro 'GPIOA'
 #define TRIGR_GPIO_Port GPIOA
                         ^~~~~
../App/Scr/app_main.c:70:31: note: in expansion of macro 'TRIGR_GPIO_Port'
 SONAR_STATUS SONARR ={"Right",TRIGR_GPIO_Port,TRIGR_Pin,ECHOR_GPIO_Port,ECHOR_Pin,0,0.0};
                               ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1001:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOA               ((GPIO_TypeDef *) GPIOA_BASE)
                             ^
../Core/Inc/main.h:110:25: note: in expansion of macro 'GPIOA'
 #define ECHOR_GPIO_Port GPIOA
                         ^~~~~
../App/Scr/app_main.c:70:57: note: in expansion of macro 'ECHOR_GPIO_Port'
 SONAR_STATUS SONARR ={"Right",TRIGR_GPIO_Port,TRIGR_Pin,ECHOR_GPIO_Port,ECHOR_Pin,0,0.0};
                                                         ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1001:29: note: (near initialization for 'SONARR.echo_port')
 #define GPIOA               ((GPIO_TypeDef *) GPIOA_BASE)
                             ^
../Core/Inc/main.h:110:25: note: in expansion of macro 'GPIOA'
 #define ECHOR_GPIO_Port GPIOA
                         ^~~~~
../App/Scr/app_main.c:70:57: note: in expansion of macro 'ECHOR_GPIO_Port'
 SONAR_STATUS SONARR ={"Right",TRIGR_GPIO_Port,TRIGR_Pin,ECHOR_GPIO_Port,ECHOR_Pin,0,0.0};
                                                         ^~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1003:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOC               ((GPIO_TypeDef *) GPIOC_BASE)
                             ^
../Core/Inc/main.h:108:28: note: in expansion of macro 'GPIOC'
 #define TRIG_CTR_GPIO_Port GPIOC
                            ^~~~~
../App/Scr/app_main.c:71:32: note: in expansion of macro 'TRIG_CTR_GPIO_Port'
 SONAR_STATUS SONARC ={"Center",TRIG_CTR_GPIO_Port,TRIG_CTR_Pin,ECHO_CTR_GPIO_Port,ECHO_CTR_Pin,0,0.0};
                                ^~~~~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1003:29: note: (near initialization for 'SONARC.trig_port')
 #define GPIOC               ((GPIO_TypeDef *) GPIOC_BASE)
                             ^
../Core/Inc/main.h:108:28: note: in expansion of macro 'GPIOC'
 #define TRIG_CTR_GPIO_Port GPIOC
                            ^~~~~
../App/Scr/app_main.c:71:32: note: in expansion of macro 'TRIG_CTR_GPIO_Port'
 SONAR_STATUS SONARC ={"Center",TRIG_CTR_GPIO_Port,TRIG_CTR_Pin,ECHO_CTR_GPIO_Port,ECHO_CTR_Pin,0,0.0};
                                ^~~~~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1003:29: warning: initialization makes integer from pointer without a cast [-Wint-conversion]
 #define GPIOC               ((GPIO_TypeDef *) GPIOC_BASE)
                             ^
../Core/Inc/main.h:105:28: note: in expansion of macro 'GPIOC'
 #define ECHO_CTR_GPIO_Port GPIOC
                            ^~~~~
../App/Scr/app_main.c:71:64: note: in expansion of macro 'ECHO_CTR_GPIO_Port'
 SONAR_STATUS SONARC ={"Center",TRIG_CTR_GPIO_Port,TRIG_CTR_Pin,ECHO_CTR_GPIO_Port,ECHO_CTR_Pin,0,0.0};
                                                                ^~~~~~~~~~~~~~~~~~
../Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h:1003:29: note: (near initialization for 'SONARC.echo_port')
 #define GPIOC               ((GPIO_TypeDef *) GPIOC_BASE)
                             ^
../Core/Inc/main.h:105:28: note: in expansion of macro 'GPIOC'
 #define ECHO_CTR_GPIO_Port GPIOC
                            ^~~~~
../App/Scr/app_main.c:71:64: note: in expansion of macro 'ECHO_CTR_GPIO_Port'
 SONAR_STATUS SONARC ={"Center",TRIG_CTR_GPIO_Port,TRIG_CTR_Pin,ECHO_CTR_GPIO_Port,ECHO_CTR_Pin,0,0.0};
                                                                ^~~~~~~~~~~~~~~~~~
../App/Scr/app_main.c: In function 'appMain':
../App/Scr/app_main.c:164:11: warning: unused variable 'tick' [-Wunused-variable]
  uint32_t tick = HAL_GetTick();
           ^~~~
../App/Scr/app_main.c:143:11: warning: unused variable 'BlinkTimer' [-Wunused-variable]
  uint32_t BlinkTimer = BLINK_RATE;
           ^~~~~~~~~~
../App/Scr/app_main.c: At top level:
../App/Scr/app_main.c:104:13: warning: 'uSec_Delay' declared 'static' but never defined [-Wunused-function]
 static void uSec_Delay(uint32_t uSec);
             ^~~~~~~~~~
../App/Scr/app_main.c:364:6: warning: 'setPWM' defined but not used [-Wunused-function]
 void setPWM(TIM_HandleTypeDef timer,uint32_t channel, uint8_t dir, uint16_t period, uint16_t pulse){
      ^~~~~~
../App/Scr/app_main.c:65:13: warning: 'sonarRestart' defined but not used [-Wunused-variable]
 static bool sonarRestart = false; // flag to start sonar updates again after trigger
             ^~~~~~~~~~~~
../App/Scr/app_main.c:64:13: warning: 'sonarActive' defined but not used [-Wunused-variable]
 static bool sonarActive = false;  // trigger flag to start next sonar readings (set by message from host)
             ^~~~~~~~~~~
"make -j8 all" terminated with exit code 2. Build might be incomplete.

20:43:15 Build Failed. 5 errors, 18 warnings. (took 1s.594ms)

